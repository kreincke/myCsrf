% mycsrf 'for beeing included' snippet template
%
% (c) Karsten Reincke, Frankfurt a.M. 2012, ff.
%
% This text is licensed under the Creative Commons Attribution 3.0 Germany
% License (http://creativecommons.org/licenses/by/3.0/de/): Feel free to share
% (to copy, distribute and transmit) or to remix (to adapt) it, if you respect
% how you must attribute the work in the manner specified by the author(s):
% \newline
% In an internet based reuse please link the reused parts to mycsrf.fodina.de
% and mention the original author Karsten Reincke in a suitable manner. In a
% paper-like reuse please insert a short hint to mycsrf.fodina.de and to the
% original author, Karsten Reincke, into your preface. For normal quotations
% please use the scientific standard to cite
%

\section{Vom Frontend nach \LaTeX: die Toolketten}

Wenn wir nun einen Schritt zurücktreten und uns auf die
Tools konzentrieren, denen wir drei oder mehr Sterne gegeben haben, dann
gewinnen wir folgende Übersicht:


\begin{tikzpicture}
\footnotesize

\tikzstyle{every node}=[trapezium, draw, minimum width=1cm,trapezium left angle=70, trapezium right angle=110]

% BOTTOM UP DESCRIPTION of the component IO structure:
% THE FINALLY GENERATED PDF OUTPOUT ->
\file{\pdfBgColor}{black}{PDF}{5.5}{0}{.pdf}

% -> CREATED BY THE LATEX IDEs ->
\backend{\backendBgColor}{\abcColor}{LTXABC}{1}{2}{\LaTeX \& ABC}
\backend{\backendBgColor}{\mtexColor}{LTXMTEX}{5.5}{2}{\LaTeX \& MusiX\TeX}
\backend{\backendBgColor}{\lyColor}{LTXLIPO}{10.4}{2}{\LaTeX \& LilyPond}

% -> which take the CONVERTER OUTPUT ->
\file{\abcBgColor}{\abcColor}{CO-ABC}{1}{3}{.abc}
\file{\mtexBgColor}{\mtexColor}{CO-MTEX}{5.5}{3}{.mtex}
\file{\lyBgColor}{Blue}{CO-LY}{10.4}{3}{.ly}

% written by the CONVERTERs.
\converter{\mxmlInColor}{\abcOutColor}{XML2ABC}{0}{7}{xml2abc}
\converter{\mxmlInColor}{\abcOutColor}{MXML2ABC}{1.5}{6}{mxml2abc}
\converter{\mxmlInColor}{\pmxOutColor}{MXML2PMX}{3.6}{8}{mxml2pmx}
\converter{\mxmlInColor}{\lyOutColor}{XML2LY}{4}{11}{xml2ly}
\converter{\mxmlInColor}{\lyOutColor}{MXML2LY}{4.5}{14}{mxml2ly}

\converter{\abcInColor}{\mtexOutColor}{ABC2MTEX}{3}{4}{abc2mtex}
\converter{\abcInColor}{\lyOutColor}{ABC2LY}{5}{12}{abc2ly}

\converter{\lyInColor}{\abcOutColor}{LY2ABC}{5.8}{8}{ly2abc}
\converter{\pmxInColor}{\mtexOutColor}{PMXAB}{5.5}{4}{pmxab}


% These converters takte the FRONTEND OUTPUT ->

\file{\abcBgColor}{\abcColor}{FO-ABC}{0}{15}{.abc}
\file{\mxmlBgColor}{\mxmlColor}{FO-MXML}{1.5}{15}{.mxml}
\file{\pmxBgColor}{Brown}{FO-PMX}{5.5}{5.5}{.pmx}
\file{\lyBgColor}{Blue}{FO-LY}{7.2}{11}{.ly}

% created by the FRONTENDS ->

\frontend{\abcBgColor}{Black}{EASYABC}{0}{17.5}{EasyABC};
\frontend{\lyBgColor}{Black}{ROSEGARDEN}{2.2}{18.5}{Rosegarden};
\frontend{\multiBgColor}{Black}{MUSESCORE}{4.5}{18.5}{MuseScore};
\frontend{\lyBgColor}{Black}{DENEMO}{6.5}{18.5}{Denemo};
\frontend{\lyBgColor}{Black}{CANORUS}{8.3}{18.5}{Canorus};

\frontend{\multiBgColor}{Black}{EDITOR}{7.7}{7}{Text-Editor};
\frontend{\lyBgColor}{Black}{ELYSIUM}{9.8}{8}{Elysium};
\frontend{\lyBgColor}{Black}{FRESCOBALDI}{11.9}{8}{Frescobaldi};

% which are used by the Composer:

\node[circle,draw=none] (Composer) at (6.5,21) 
{ \includegraphics{./logos/decider-220x320.eps}};
  
% TOP DOWN linkings of the component IO structure:  
  
% (1) The composer uses the frontends.
\draw[->] (Composer) to [out=180,in=90] (EASYABC);  
\draw[->] (Composer) to [out=180,in=90] (ROSEGARDEN); 
\draw[->] (Composer) to [out=270,in=90] (MUSESCORE);  
\draw[->] (Composer) to [out=270,in=90] (DENEMO);  
\draw[->] (Composer) to [out=270,in=90] (CANORUS);  
\draw[->] (Composer) to [out=0,in=90] (ELYSIUM);  
\draw[->] (Composer) to [out=0,in=90] (FRESCOBALDI);  
\draw[->] (Composer) to [out=0,in=90] (EDITOR);  

 
% (2.A) The frontends write the frontend output  
\draw[->,\abcColor] (EASYABC) to [out=270,in=90] (FO-ABC); 
\draw[->,\abcColor] (EASYABC) to [out=240,in=140] (CO-ABC); 
\draw[->,\mxmlColor] (EASYABC) to [out=300,in=90] (FO-MXML); 

\draw[->,\lyColor] (ROSEGARDEN) to [out=300,in=90] (FO-LY); 
\draw[->,\mxmlColor] (ROSEGARDEN) to [out=240,in=90] (FO-MXML);

\draw[->,\mxmlColor] (MUSESCORE) to [out=240,in=90] (FO-MXML); 

\draw[->,\mxmlColor] (CANORUS) to [out=240,in=90] (FO-MXML); 
\draw[->,\lyColor] (CANORUS) to [out=270,in=90] (FO-LY); 

\draw[->,\mxmlColor] (DENEMO) to [out=240,in=90] (FO-MXML); 
\draw[->,\lyColor] (DENEMO) to [out=270,in=90] (FO-LY); 


\draw[->,\abcColor] (EDITOR) to [out=270,in=90] (CO-ABC);
\draw[->,\mtexColor] (EDITOR) to [out=270,in=0] (CO-MTEX);
\draw[->,\pmxColor] (EDITOR) to [out=270,in=90] (FO-PMX);

\draw[->,\lyColor] (EDITOR) to [out=270,in=90] (CO-LY);
\draw[->,\lyColor] (ELYSIUM) to [out=270,in=90] (CO-LY); 
\draw[->,\lyColor] (FRESCOBALDI) to [out=270,in=90] (CO-LY); 

% (3) The frontend output becomes input of the converter

\draw[->,\abcColor] (FO-ABC) to [out=270,in=90] (ABC2MTEX);
\draw[->,\abcColor] (FO-ABC) to [out=270,in=90] (ABC2LY);

\draw[->,\mxmlColor] (FO-MXML) to [out=270,in=90] (XML2ABC);
\draw[->,\mxmlColor] (FO-MXML) to [out=270,in=90] (MXML2ABC);
\draw[->,\mxmlColor] (FO-MXML) to [out=270,in=90] (XML2LY);
\draw[->,\mxmlColor] (FO-MXML) to [out=270,in=90] (MXML2LY);
\draw[->,\mxmlColor] (FO-MXML) to [out=270,in=90] (MXML2PMX);

\draw[->,\lyColor] (FO-LY) to [out=270,in=90] (LY2ABC); 
\draw[->,\lyColor] (FO-LY) to [out=270,in=90] (EDITOR); 
\draw[->,\lyColor] (FO-LY) to [out=270,in=90] (ELYSIUM); 
\draw[->,\lyColor] (FO-LY) to [out=270,in=90] (FRESCOBALDI); 

% (3) The converters (re)write their output
% (3.A) as input for the textual frontends
\draw[->,\lyColor] (ABC2LY) to [out=270,in=90] (FO-LY);
\draw[->,\lyColor] (MXML2LY) to [out=270,in=90] (FO-LY); 
\draw[->,\lyColor] (XML2LY) to [out=270,in=90] (FO-LY); 

% (3.B) as input for the backends

\draw[->,\abcColor] (LY2ABC) to [out=270,in=90] (CO-ABC);
\draw[->,\abcColor] (XML2ABC) to [out=270,in=90] (CO-ABC);
\draw[->,\abcColor] (MXML2ABC) to [out=270,in=90] (CO-ABC);

\draw[->,\pmxColor] (MXML2PMX) to [out=270,in=90] (FO-PMX);
\draw[->,\mtexColor] (ABC2MTEX) to [out=270,in=180] (CO-MTEX);

% special case MusiXTeX
\draw[->,\pmxColor] (FO-PMX) to [out=270,in=90] (PMXAB);
\draw[->,\mtexColor] (PMXAB) to [out=270,in=90] (CO-MTEX);

% 4) The backends take the (converter) output as input
\draw[->,\abcColor] (CO-ABC) to [out=270,in=90] (LTXABC);
\draw[->,\mtexColor] (CO-MTEX) to [out=270,in=90] (LTXMTEX);
\draw[->,\lyColor] (CO-LY) to [out=270,in=90] (LTXLIPO);

% 5) end write the final PDF

\draw[->,Black] (LTXABC) to [out=270,in=90] (PDF);
\draw[->,Black] (LTXMTEX) to [out=270,in=90] (PDF);
\draw[->,Black] (LTXLIPO) to [out=270,in=90] (PDF);
\end{tikzpicture}

Wir kennen demnach vier echte graphische Frontends -- \acc{Rosegarden},
\acc{MuseScore}, \acc{Denemo} und \acc{Canorus} --, drei semi-graphische
Frontends -- \acc{EasyABC}, \acc{Elysium} und \acc{Frescobaldi} --, sowie eine
Reihe von Konvertern. Unglücklicherweise haben wir lernen müssen, dass es keinen
graphischen oder semi-graphischen Editor für das \acc{MusiX\TeX}-System gibt,
weshalb wir nicht umhinkommen, sogar den reinen Texteditor zu berücksichtigen.
Außerdem haben wir festgestellt, dass keines der rein graphischen Frontends eine
adäquate Dokumentation der Harmonieanalyse erlaubt. Und schließlich hatte sich
schon vorher ergeben, dass das \LaTeX-ABC-Backend nur die Integration begrenzt
komplexer Analysesymbole anbietet, während die Kombinationen von \LaTeX\ und
MusiX\TeX\ bzw. \LaTeX und LilyPond jeweils gut mit strukturell adäquaten
Analysesymbolen umgehen können. Allerdings sind diese Kennzeichnungen bei der
\LaTeX-MusiX\TeX-Variante aktuell visuell noch ansprechender, als bei der
\LaTeX-LilyPond-Variante.

Entscheidend ist nun, welche der möglichen Wege wirklich funktionieren. Das
gälte es, zu evaluieren. Denn es nutzt der formal beste Weg ja nichts, wenn er
praktisch nicht oder nur begrenzt gangbar ist. Gleichwohl wäre das stumpfe
Abklappern aller Varianten nicht wirklich hilfreich. Besser wäre es, man
hätte ein Verfahren, das die Kandidaten nach ihrem Potential ordnet. Denn dann
könnte man diese vielversprechendsten zuerst evaluieren und bräuchte, wenn man
gute praktische Wege gefunden hätte, den schlechteren gar nicht mehr
nachzugehen.

Glücklicherweise bietet sich so ein Bewertungsverfahren unmittelbar an:

\begin{itemize}
  \item Wir haben die Frontends und die Backends bereits bereits gemäß ihrer
  immanenten Fähigkeiten mittels Sternen klassifiziert. Und jeder Weg beginnt
  mit einem Frontend und endet an einem Backend. Also sollte die Summe der
  Sterne etwas über die Qualität des Weges ausssagen.
  \item Allerdings ist eine erhöhte Komplexität des Weges ein Nachteil: je mehr
  Konvertierungsschritte nötig sind, desto größer ist der Aufwand für den
  Musikwissenschaftler. Es ist also angemssen, wenn wir von der Summe der Sterne
  die Anzahl der Konvertierungsschritte wieder abzuziehen: je direkter der Weg,
  desto besser.
  \item Da aber zwischen einem Frontend und einem Backend immer mindestens ein
  Konvertierungsschritt liegt, der sich in der geschriebenen Outputdatei des
  Frontends manifestiert, die zum Input des Backends wird, brauchen wir
  letztlich von Summer der Sterne nur die jeweiligen Konvertierungsschritte - 1
  zu subtrahieren.
\end{itemize}

Danach ergibt sich vorderhand folgendes Ranking der Wege.

\begin{center}
\renewcommand{\arraystretch}{1.5}
\begin{tabulary}{14cm}{|C|C C C C C C C C|C|}
\hline
 VON & V & \ra & VIA &  & & & & \ra & NACH \\
 \hline
 Frontend & Stars & \ra & VIA &  & & & & \ra & NACH \\
\hline
\hline
\hline
 EasyABC  & \ra & ly2abc &  & & & & \ra &  \LaTeX\ \& ABC \\
 .xml & \ra & xml2abc mxml2abc & & &  &  & \ra & .abc \\
\hline
 .abc & \ra & abc2ly & & &  &  & \ra & .ly \\
 .xml & \ra & xml2ly musicxml2ly & & &  &  & \ra & .ly \\
\hline
 .xml & \ra & xml2pmx & & &  &  & \ra & .pmx \\
\hline
 .abc & \ra & abc2mtex & & &  &  & \ra & .tex \\
 .ly  & \ra & ly2abc & \ra &  .abc & \ra & abc2mtex & \ra & .tex \\
 .pmx & \ra & pmxab & & &  &  & \ra & .tex \\
 .xml & \ra & { xml2abc, mxml2abc} & \ra & .abc & \ra & abc2mtex & \ra & .tex \\
\hline
\end{tabulary}
\renewcommand{\arraystretch}{1}
\end{center}


Leider kann das noch nicht als finales Ergebnis genommen werden. Es muss auch
noch die technische Qualität des Weges als Ganzes in die Wertung eingehen. Denn
Selbst wenn Frontend und Backend jeweils 5 Sterne haben und direkt verknüpfbar
sind, kann es immer noch sein, dass das Backend nicht -- oder nur mit Nachhilfe
-- 'versteht', was das Frontend ihm vorlegt. Dieser Aspekt der Systemqualität
möge nach folgende Gewichtungstabelle in das Ergebnis einfließen:


\begin{center}
\renewcommand{\arraystretch}{1.5}
\begin{tabulary}{14cm}{|C|R||C|C|C|C||}
\cline{3-6}
 \multicolumn{2}{c||}{\ } & \multicolumn{4}{c||}{Technische Ausführbarkeit} \\
\cline{3-6}
 \multicolumn{2}{c||}{\ } & direkt möglich & mit leichten Eingriffen
    & mit starken Eingriffen & nicht gegeben \\
\hline
\multirow{4}{*}{\rotatebox{90}{Ergebnis}} & exzellent & \centering{1} & 0.8 & 0.6 & 0 \\
\cline{2-6}
 & akzep\-tabel & 0.8 & 0.6 & 0.4 & 0 \\
\cline{2-6}
 & grenz\-wertig & 0.6 & 0.4 & 0.2 & 0 \\
\cline{2-6}
 & inakzep\-tabel & 0 & 0 & 0 & 0 \\
\hline
\hline
\end{tabulary}
\renewcommand{\arraystretch}{1}
\end{center}





% this is only inserted to eject fault messages in texlipse
%\bibliography{../bib/literature}
